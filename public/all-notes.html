<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Notes</title>
    <link
      href="https://cdn.quilljs.com/1.3.7/quill.snow.css"
      rel="stylesheet"
    />
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden; /* Prevent unintended scrolling */
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS',
          sans-serif, 'Times New Roman', Times, serif;
      }

      /* Main container */
      #container {
        display: flex;
        width: 100vw;
        height: 100vh;
        border-radius: 12px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        min-width: 600px;
        min-height: 400px;
        -webkit-app-region: drag; /* Make the entire window draggable */
        overflow-y: hidden;
      }

      /* Sidebar container */
      #context-list {
        width: 250px;
        min-width: 200px;
        background: #2d7ef7; /* Blue background */
        color: white;
        padding: 0;
        border-radius: 12px 0 0 12px;
        height: 100%;
        box-shadow: 2px 0px 5px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
      }

      /* Sticky header section: title + divider */
      #sidebar-header {
        position: sticky;
        top: 0;
        background-color: #2d7ef7; /* Match sidebar background */
        z-index: 10;
        padding: 10px 15px 0 15px;
      }

      /* Sidebar Title */
      #sidebar-title {
        font-family: Georgia, 'Times New Roman', Times, serif;
        font-size: 26px;
        font-weight: bold;
        text-align: left;
        -webkit-app-region: drag; /* Allow dragging over the title */
      }

      /* Divider under "Contexts" - stays fixed with the title */
      #sidebar-divider {
        width: 85%;
        height: 2px;
        background-color: rgb(255, 255, 255);
        margin: 8px auto;
        border: none;
      }

      /* Context List - Scroll independently */
      #contexts {
        list-style: none;
        padding: 15px;
        margin: 0;
        flex-grow: 1;
        overflow-y: auto;
        -webkit-app-region: no-drag; /* Prevent dragging */
      }

      /* Context Item */
      .context-item {
        padding: 12px 20px;
        cursor: pointer;
        font-size: 15px;
        font-weight: 500;
        margin: 5px auto;
        -webkit-app-region: no-drag; /* Prevent dragging */
      }

      .context-item:hover {
        background: rgba(255, 255, 255, 0.2);
        margin: 5px auto;
        border-radius: 6px;
      }

      .context-item.selected {
        background: white;
        color: #2d7ef7;
        border-radius: 6px;
        margin: 0px auto;
      }

      /* Notes area */
      #notes-view {
        width: 100%;
        display: flex;
        flex-direction: column;
        padding: 10px;
        background: white;
        border-radius: 12px;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
      }

      #notes-header {
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 10px;
        -webkit-app-region: drag;
      }

      #quill-editor {
        flex: 1;
        border: 1px solid #ccc;
        overflow-y: scroll;
        height: 95%;
        -webkit-app-region: no-drag; /* Prevent dragging */
      }

      .ql-toolbar {
        -webkit-app-region: no-drag; /* Prevent dragging */
      }
    </style>
  </head>
  <body>
    <div id="container">
      <div id="context-list">
        <div id="sidebar-header">
          <h3 id="sidebar-title">Contexts</h3>
          <hr id="sidebar-divider" />
        </div>
        <ul id="contexts"></ul>
      </div>

      <!-- Notes View -->
      <div id="notes-view">
        <div id="notes-header">
          Notes for <span id="current-context">Loading...</span>
        </div>
        <div id="quill-editor"></div>
      </div>
    </div>

    <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>
    <script src="../src/all-notes.js"></script>
  </body>
</html>
